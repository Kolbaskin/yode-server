var forms = require('forms')

exports.inObjArray = function(val, arr) {
    for(var i=0;i<arr.length;i++) {
        if(val+'' == arr[i]+'') return i;    
    }
    return -1;
}

exports.idKeys2Array = function(obj) {
    var res = [],
        o_id;
    for(var i in obj) {
        if((o_id = forms.strToId(i)) !== 0) {
            res.push(o_id)    
        }
    }
    return res;
}

exports.clone = function(x)
{
    if (x === null || x === undefined)
        return x;
    if (x.clone)
        return x.clone();
    if (x.constructor == Array)
    {
        var r = [];
        for (var i=0,n=x.length; i<n; i++)
            r.push(clone(x[i]));
        return r;
    }
    return x;
}

exports.inherit = function(srcObj, newobj) {    
    var out = this.clone(srcObj)

    for(var i in newobj) {
        out[i] = newobj[i]
    }
    return out
}